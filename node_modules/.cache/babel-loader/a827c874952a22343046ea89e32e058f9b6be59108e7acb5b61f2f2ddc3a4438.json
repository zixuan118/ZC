{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/zixuanchen/zixuan/my-website/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useState,useEffect}from'react';import styled from'styled-components';import{findAnswer}from'./ZixuanDatabase';import{useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding: 80px 20px;\\n    text-align: center;\\n    background: linear-gradient(135deg, #c3b6d8 0%, #e2dfe2 100%);\\n    min-height: 100vh;\\n\"])));const ChatBox=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 90%;\\n    max-width: 800px;\\n    margin: 20px auto;\\n    background-color: white;\\n    border-radius: 25px;\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    padding: 30px;\\n    text-align: left;\\n\"])));const Message=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    margin: 10px 0;\\n    padding: 10px;\\n    background-color: #f5f5f5;\\n    border-radius: 15px;\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n\"])));const TypingEffect=_ref=>{let{message}=_ref;const[displayedText,setDisplayedText]=useState('');useEffect(()=>{let index=0;const interval=setInterval(()=>{setDisplayedText(prev=>prev+message[index]);index++;if(index===message.length){clearInterval(interval);}},20);return()=>clearInterval(interval);},[message]);return/*#__PURE__*/_jsx(\"span\",{children:displayedText});};const ChatZixuan=()=>{var _location$state;const location=useLocation();const[messages,setMessages]=useState([]);const query=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.query)||'';useEffect(()=>{if(query){const answer=findAnswer(query);const newMessages=[{role:'user',content:query},{role:'zixuan',content:answer||'抱歉，我找不到这个问题的答案。'}];setMessages(newMessages);}},[query]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(ChatBox,{children:messages.map((msg,index)=>/*#__PURE__*/_jsxs(Message,{children:[/*#__PURE__*/_jsx(\"strong\",{children:msg.role==='user'?'You: ':'Zixuan: '}),/*#__PURE__*/_jsx(TypingEffect,{message:msg.content})]},index))})});};export default ChatZixuan;","map":{"version":3,"names":["React","useState","useEffect","styled","findAnswer","useLocation","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","ChatBox","_templateObject2","Message","_templateObject3","TypingEffect","_ref","message","displayedText","setDisplayedText","index","interval","setInterval","prev","length","clearInterval","children","ChatZixuan","_location$state","location","messages","setMessages","query","state","answer","newMessages","role","content","map","msg"],"sources":["/Users/zixuanchen/zixuan/my-website/src/components/ChatComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { findAnswer } from './ZixuanDatabase';\nimport { useLocation } from 'react-router-dom';\n\nconst Container = styled.div`\n    padding: 80px 20px;\n    text-align: center;\n    background: linear-gradient(135deg, #c3b6d8 0%, #e2dfe2 100%);\n    min-height: 100vh;\n`;\n\nconst ChatBox = styled.div`\n    width: 90%;\n    max-width: 800px;\n    margin: 20px auto;\n    background-color: white;\n    border-radius: 25px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    padding: 30px;\n    text-align: left;\n`;\n\nconst Message = styled.div`\n    margin: 10px 0;\n    padding: 10px;\n    background-color: #f5f5f5;\n    border-radius: 15px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n`;\n\nconst TypingEffect = ({ message }) => {\n    const [displayedText, setDisplayedText] = useState('');\n\n    useEffect(() => {\n        let index = 0;\n        const interval = setInterval(() => {\n            setDisplayedText((prev) => prev + message[index]);\n            index++;\n            if (index === message.length) {\n                clearInterval(interval);\n            }\n        }, 20);\n\n        return () => clearInterval(interval);\n    }, [message]);\n\n    return <span>{displayedText}</span>;\n};\n\nconst ChatZixuan = () => {\n    const location = useLocation();\n    const [messages, setMessages] = useState([]);\n    const query = location.state?.query || '';\n\n    useEffect(() => {\n        if (query) {\n            const answer = findAnswer(query);\n            const newMessages = [\n                { role: 'user', content: query },\n                { role: 'zixuan', content: answer || '抱歉，我找不到这个问题的答案。' },\n            ];\n            setMessages(newMessages);\n        }\n    }, [query]);\n\n    return (\n        <Container>\n            <ChatBox>\n                {messages.map((msg, index) => (\n                    <Message key={index}>\n                        <strong>{msg.role === 'user' ? 'You: ' : 'Zixuan: '}</strong>\n                        <TypingEffect message={msg.content} />\n                    </Message>\n                ))}\n            </ChatBox>\n        </Container>\n    );\n};\n\nexport default ChatZixuan;\n"],"mappings":"+LAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,SAAS,CAAGP,MAAM,CAACQ,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,wJAK3B,CAED,KAAM,CAAAC,OAAO,CAAGX,MAAM,CAACQ,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,4NASzB,CAED,KAAM,CAAAG,OAAO,CAAGb,MAAM,CAACQ,GAAG,CAAAM,gBAAA,GAAAA,gBAAA,CAAAJ,sBAAA,4JAMzB,CAED,KAAM,CAAAK,YAAY,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC7B,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAqB,KAAK,CAAG,CAAC,CACb,KAAM,CAAAC,QAAQ,CAAGC,WAAW,CAAC,IAAM,CAC/BH,gBAAgB,CAAEI,IAAI,EAAKA,IAAI,CAAGN,OAAO,CAACG,KAAK,CAAC,CAAC,CACjDA,KAAK,EAAE,CACP,GAAIA,KAAK,GAAKH,OAAO,CAACO,MAAM,CAAE,CAC1BC,aAAa,CAACJ,QAAQ,CAAC,CAC3B,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,IAAMI,aAAa,CAACJ,QAAQ,CAAC,CACxC,CAAC,CAAE,CAACJ,OAAO,CAAC,CAAC,CAEb,mBAAOb,IAAA,SAAAsB,QAAA,CAAOR,aAAa,CAAO,CAAC,CACvC,CAAC,CAED,KAAM,CAAAS,UAAU,CAAGA,CAAA,GAAM,KAAAC,eAAA,CACrB,KAAM,CAAAC,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC4B,QAAQ,CAAEC,WAAW,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAkC,KAAK,CAAG,EAAAJ,eAAA,CAAAC,QAAQ,CAACI,KAAK,UAAAL,eAAA,iBAAdA,eAAA,CAAgBI,KAAK,GAAI,EAAE,CAEzCjC,SAAS,CAAC,IAAM,CACZ,GAAIiC,KAAK,CAAE,CACP,KAAM,CAAAE,MAAM,CAAGjC,UAAU,CAAC+B,KAAK,CAAC,CAChC,KAAM,CAAAG,WAAW,CAAG,CAChB,CAAEC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAEL,KAAM,CAAC,CAChC,CAAEI,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAEH,MAAM,EAAI,iBAAkB,CAAC,CAC3D,CACDH,WAAW,CAACI,WAAW,CAAC,CAC5B,CACJ,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,mBACI5B,IAAA,CAACG,SAAS,EAAAmB,QAAA,cACNtB,IAAA,CAACO,OAAO,EAAAe,QAAA,CACHI,QAAQ,CAACQ,GAAG,CAAC,CAACC,GAAG,CAAEnB,KAAK,gBACrBd,KAAA,CAACO,OAAO,EAAAa,QAAA,eACJtB,IAAA,WAAAsB,QAAA,CAASa,GAAG,CAACH,IAAI,GAAK,MAAM,CAAG,OAAO,CAAG,UAAU,CAAS,CAAC,cAC7DhC,IAAA,CAACW,YAAY,EAACE,OAAO,CAAEsB,GAAG,CAACF,OAAQ,CAAE,CAAC,GAF5BjB,KAGL,CACZ,CAAC,CACG,CAAC,CACH,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAO,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}