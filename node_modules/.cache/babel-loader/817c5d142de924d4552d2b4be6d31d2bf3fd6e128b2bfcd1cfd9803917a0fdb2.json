{"ast":null,"code":"var _jsxFileName = \"/Users/zixuanchen/zixuan/my-website/src/components/ChatComponent.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { findAnswer } from './ZixuanDatabase';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n    padding: 80px 20px;\n    text-align: center;\n    background: linear-gradient(135deg, #c3b6d8 0%, #e2dfe2 100%);\n    min-height: 100vh;\n`;\n_c = Container;\nconst ChatBox = styled.div`\n    width: 90%;\n    max-width: 800px;\n    margin: 20px auto;\n    background-color: white;\n    border-radius: 25px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    padding: 30px;\n    text-align: left;\n`;\n_c2 = ChatBox;\nconst Message = styled.div`\n    margin: 10px 0;\n    padding: 10px;\n    background-color: #f5f5f5;\n    border-radius: 15px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n`;\n_c3 = Message;\nconst TypingEffect = ({\n  message\n}) => {\n  _s();\n  const [displayedText, setDisplayedText] = useState('');\n  useEffect(() => {\n    let index = 0;\n    const interval = setInterval(() => {\n      setDisplayedText(prev => prev + message[index]);\n      index++;\n      if (index === message.length) {\n        clearInterval(interval);\n      }\n    }, 20);\n    return () => clearInterval(interval);\n  }, [message]);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: displayedText\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 12\n  }, this);\n};\n_s(TypingEffect, \"PLbRMeWiJa2NBtcoy3qeXvmWyJg=\");\n_c4 = TypingEffect;\nconst ChatZixuan = () => {\n  _s2();\n  var _location$state;\n  const location = useLocation();\n  const [messages, setMessages] = useState([]);\n  const query = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.query) || '';\n  useEffect(() => {\n    if (query) {\n      const answer = findAnswer(query);\n      const newMessages = [{\n        role: 'user',\n        content: query\n      }, {\n        role: 'zixuan',\n        content: answer || '抱歉，我找不到这个问题的答案。'\n      }];\n      setMessages(newMessages);\n    }\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(ChatBox, {\n      children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(Message, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: msg.role === 'user' ? 'You: ' : 'Zixuan: '\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TypingEffect, {\n          message: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n_s2(ChatZixuan, \"1ncqsxpnPKjJAbErnP9cDwCKrRs=\", false, function () {\n  return [useLocation];\n});\n_c5 = ChatZixuan;\nexport default ChatZixuan;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"ChatBox\");\n$RefreshReg$(_c3, \"Message\");\n$RefreshReg$(_c4, \"TypingEffect\");\n$RefreshReg$(_c5, \"ChatZixuan\");","map":{"version":3,"names":["React","useState","useEffect","styled","findAnswer","useLocation","jsxDEV","_jsxDEV","Container","div","_c","ChatBox","_c2","Message","_c3","TypingEffect","message","_s","displayedText","setDisplayedText","index","interval","setInterval","prev","length","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","_c4","ChatZixuan","_s2","_location$state","location","messages","setMessages","query","state","answer","newMessages","role","content","map","msg","_c5","$RefreshReg$"],"sources":["/Users/zixuanchen/zixuan/my-website/src/components/ChatComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { findAnswer } from './ZixuanDatabase';\nimport { useLocation } from 'react-router-dom';\n\nconst Container = styled.div`\n    padding: 80px 20px;\n    text-align: center;\n    background: linear-gradient(135deg, #c3b6d8 0%, #e2dfe2 100%);\n    min-height: 100vh;\n`;\n\nconst ChatBox = styled.div`\n    width: 90%;\n    max-width: 800px;\n    margin: 20px auto;\n    background-color: white;\n    border-radius: 25px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    padding: 30px;\n    text-align: left;\n`;\n\nconst Message = styled.div`\n    margin: 10px 0;\n    padding: 10px;\n    background-color: #f5f5f5;\n    border-radius: 15px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n`;\n\nconst TypingEffect = ({ message }) => {\n    const [displayedText, setDisplayedText] = useState('');\n\n    useEffect(() => {\n        let index = 0;\n        const interval = setInterval(() => {\n            setDisplayedText((prev) => prev + message[index]);\n            index++;\n            if (index === message.length) {\n                clearInterval(interval);\n            }\n        }, 20);\n\n        return () => clearInterval(interval);\n    }, [message]);\n\n    return <span>{displayedText}</span>;\n};\n\nconst ChatZixuan = () => {\n    const location = useLocation();\n    const [messages, setMessages] = useState([]);\n    const query = location.state?.query || '';\n\n    useEffect(() => {\n        if (query) {\n            const answer = findAnswer(query);\n            const newMessages = [\n                { role: 'user', content: query },\n                { role: 'zixuan', content: answer || '抱歉，我找不到这个问题的答案。' },\n            ];\n            setMessages(newMessages);\n        }\n    }, [query]);\n\n    return (\n        <Container>\n            <ChatBox>\n                {messages.map((msg, index) => (\n                    <Message key={index}>\n                        <strong>{msg.role === 'user' ? 'You: ' : 'Zixuan: '}</strong>\n                        <TypingEffect message={msg.content} />\n                    </Message>\n                ))}\n            </ChatBox>\n        </Container>\n    );\n};\n\nexport default ChatZixuan;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}